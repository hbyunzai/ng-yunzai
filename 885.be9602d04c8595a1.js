(self.webpackChunkng_yunzai=self.webpackChunkng_yunzai||[]).push([[885],{6885:(cn,ln,s)=>{"use strict";s.r(ln),s.d(ln,{YelonModule:()=>K});var $=s(757),V=s(5861),n=s(4650),S=s(8746),X=s(4327),Z=s(5915),h=s(6895);let W=(()=>{class o{getDisposition(t){return(t||"").split(";").filter(r=>r.includes("=")).map(r=>{const l=r.split("="),a="UTF-8''";let m=l[1];return m.startsWith(a)&&(m=m.substring(a.length)),{[l[0].trim()]:m}}).reduce((r,l)=>l,{})}constructor(t,i){this.el=t,this._http=i,this.isFileSaverSupported=!0,this.httpMethod="get",this.success=new n.vpe,this.error=new n.vpe;let r=!1;try{r=!!new Blob}catch{}this.isFileSaverSupported=r,r||t.nativeElement.classList.add("down-file__not-support")}setDisabled(t){const i=this.el.nativeElement;i.disabled=t,i.classList[t?"add":"remove"]("down-file__disabled")}_click(t){var i=this;return(0,V.Z)(function*(){if(!i.isFileSaverSupported||"function"==typeof i.pre&&!(yield i.pre(t)))return t.stopPropagation(),void t.preventDefault();i.setDisabled(!0),i._http.request(i.httpMethod,i.httpUrl,{params:i.httpData||{},responseType:"blob",observe:"response",body:i.httpBody}).pipe((0,S.x)(()=>i.setDisabled(!1))).subscribe({next:r=>{if(200!==r.status||r.body.size<=0)return void i.error.emit(r);const l=i.getDisposition(r.headers.get("content-disposition"));let a=i.fileName;"function"==typeof a&&(a=a(r)),a=a||l["filename*"]||l.filename||r.headers.get("filename")||r.headers.get("x-filename"),(0,X.saveAs)(r.body,decodeURI(a)),i.success.emit(r)},error:r=>i.error.emit(r)})})()}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(n.SBq),n.Y36(Z.lP))},o.\u0275dir=n.lG2({type:o,selectors:[["","down-file",""]],hostBindings:function(t,i){1&t&&n.NdJ("click",function(l){return i._click(l)})},inputs:{httpData:["http-data","httpData"],httpBody:["http-body","httpBody"],httpMethod:["http-method","httpMethod"],httpUrl:["http-url","httpUrl"],fileName:["file-name","fileName"],pre:"pre"},outputs:{success:"success",error:"error"},exportAs:["downFile"]}),o})(),c=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[h.ez,Z.p6]}),o})();var u=s(655),g=s(9132),d=s(1135),f=s(3099),tn=s(7579),sn=s(4968),D=s(2722),en=s(8372),J=s(9300),z=s(4728);const An=["*"];let Mn=(()=>{class o{constructor(){this._change=new d.X(null)}toggle(){this._change.next(!0)}get change(){return this._change.pipe((0,f.B)())}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const pn="full-content__body",dn="full-content__opened",mn="full-content__hidden-title";let hn=(()=>{class o{constructor(t,i,r,l,a){this.el=t,this.cdr=i,this.srv=r,this.router=l,this.doc=a,this.inited=!1,this.id=`_full-content-${Math.random().toString(36).substring(2)}`,this.destroy$=new tn.x,this._height=0,this.hideTitle=!0,this.padding=24,this.fullscreenChange=new n.vpe}updateCls(){const t=this.bodyEl.classList;this.fullscreen?(t.add(dn),this.hideTitle&&t.add(mn)):(t.remove(dn),this.hideTitle&&t.remove(mn))}update(){this.updateCls(),this.updateHeight(),this.fullscreenChange.emit(this.fullscreen)}updateHeight(){this._height=this.bodyEl.getBoundingClientRect().height-this.el.nativeElement.getBoundingClientRect().top-this.padding,this.cdr.detectChanges()}removeInBody(){this.bodyEl.classList.remove(pn,dn,mn)}ngOnInit(){this.inited=!0,this.bodyEl=this.doc.querySelector("body"),this.bodyEl.classList.add(pn),this.el.nativeElement.id=this.id,this.updateCls(),(0,sn.R)(window,"resize").pipe((0,D.R)(this.destroy$),(0,en.b)(200)).subscribe(()=>this.updateHeight()),this.srv.change.pipe((0,D.R)(this.destroy$),(0,J.h)(t=>null!==t)).subscribe(()=>this.toggle()),this.router.events.pipe((0,D.R)(this.destroy$),(0,J.h)(t=>t instanceof g.wM||t instanceof g.jw),(0,en.b)(200)).subscribe(()=>{this.doc.querySelector(`#${this.id}`)?(this.bodyEl.classList.add(pn),this.updateCls()):this.removeInBody()})}toggle(){this.fullscreen=!this.fullscreen,this.update(),this.updateHeight()}ngAfterViewInit(){setTimeout(()=>this.updateHeight())}ngOnChanges(){this.inited&&this.update()}ngOnDestroy(){this.removeInBody();const{destroy$:t}=this;t.next(),t.complete()}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(Mn),n.Y36(g.F0),n.Y36(h.K0))},o.\u0275cmp=n.Xpm({type:o,selectors:[["full-content"]],hostVars:4,hostBindings:function(t,i){2&t&&(n.Udp("height",i._height,"px"),n.ekj("full-content",!0))},inputs:{fullscreen:"fullscreen",hideTitle:"hideTitle",padding:"padding"},outputs:{fullscreenChange:"fullscreenChange"},exportAs:["fullContent"],features:[n.TTD],ngContentSelectors:An,decls:1,vars:0,template:function(t,i){1&t&&(n.F$t(),n.Hsn(0))},encapsulation:2,changeDetection:0}),(0,u.gn)([(0,z.yF)()],o.prototype,"fullscreen",void 0),(0,u.gn)([(0,z.yF)()],o.prototype,"hideTitle",void 0),(0,u.gn)([(0,z.Rn)()],o.prototype,"padding",void 0),o})(),zn=(()=>{class o{constructor(t){this.parent=t}_click(){this.parent.toggle()}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(hn))},o.\u0275dir=n.lG2({type:o,selectors:[["","full-toggle",""]],hostBindings:function(t,i){1&t&&n.NdJ("click",function(){return i._click()})},exportAs:["fullToggle"]}),o})(),Fn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[h.ez]}),o})();var gn=s(63),fn=s(2875),bn=s(3353);function xn(o,e){if(1&o&&n._UZ(0,"img",1),2&o){const t=n.oxw();n.Q6J("src",t.dataURL,n.LSH)}}const Sn={lib:"https://cdn.jsdelivr.net/npm/qrious/dist/qrious.min.js",background:"white",backgroundAlpha:1,foreground:"black",foregroundAlpha:1,level:"L",mime:"image/png",padding:10,size:220,delay:0};let Cn=(()=>{class o{constructor(t,i,r,l){this.cdr=t,this.lazySrv=r,this.platform=l,this.inited=!1,this.value="",this.change=new n.vpe,this.cog=i.merge("qr",Sn),Object.assign(this,this.cog)}init(){this.inited&&(null==this.qr&&(this.qr=new window.QRious),this.qr.set(this.option),this.dataURL=this.qr.toDataURL(),this.change.emit(this.dataURL),this.cdr.detectChanges())}initDelay(){this.inited=!0,setTimeout(()=>this.init(),this.delay)}ngAfterViewInit(){if(!this.platform.isBrowser)return;if(window.QRious)return void this.initDelay();const t=this.cog.lib;this.lazy$=this.lazySrv.change.pipe((0,J.h)(i=>1===i.length&&i[0].path===t&&"ok"===i[0].status)).subscribe(()=>this.initDelay()),this.lazySrv.load(t)}ngOnChanges(){const t={background:this.background,backgroundAlpha:this.backgroundAlpha,foreground:this.foreground,foregroundAlpha:this.foregroundAlpha,level:this.level,mime:this.mime,padding:this.padding,size:this.size,value:"function"==typeof this.value?this.value():this.toUtf8ByteArray(this.value)};this.option=t,this.init()}toUtf8ByteArray(t){t=encodeURI(t);const i=[];for(let r=0;r<t.length;r++)"%"!==t.charAt(r)?i.push(t.charCodeAt(r)):(i.push(parseInt(t.substring(r+1,2),16)),r+=2);return i.map(r=>String.fromCharCode(r)).join("")}ngOnDestroy(){this.lazy$&&this.lazy$.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(n.sBO),n.Y36(gn.Pj),n.Y36(fn.Df),n.Y36(bn.t4))},o.\u0275cmp=n.Xpm({type:o,selectors:[["qr"]],hostVars:6,hostBindings:function(t,i){2&t&&n.Udp("display","inline-block")("height",i.size,"px")("width",i.size,"px")},inputs:{background:"background",backgroundAlpha:"backgroundAlpha",foreground:"foreground",foregroundAlpha:"foregroundAlpha",level:"level",mime:"mime",padding:"padding",size:"size",value:"value",delay:"delay"},outputs:{change:"change"},exportAs:["qr"],features:[n.TTD],decls:1,vars:1,consts:[["style","max-width: 100%; max-height: 100%;",3,"src",4,"ngIf"],[2,"max-width","100%","max-height","100%",3,"src"]],template:function(t,i){1&t&&n.YNc(0,xn,1,1,"img",0),2&t&&n.Q6J("ngIf",i.dataURL)},dependencies:[h.O5],encapsulation:2,changeDetection:0}),(0,u.gn)([(0,z.Rn)(null)],o.prototype,"padding",void 0),(0,u.gn)([(0,z.Rn)()],o.prototype,"size",void 0),(0,u.gn)([(0,z.Rn)()],o.prototype,"delay",void 0),o})(),Dn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[h.ez]}),o})();var vn=s(4040),on=s(7457),v=s(6616),T=s(7044),y=s(1811),A=s(3679),M=s(1971);class w{get data(){return this.aclSrv.data}constructor(e,t){this.aclSrv=e,this.menuSrv=t,this.full=!0,this.roleA="",this.roleB=""}reMenu(){this.menuSrv.resume()}toggleFull(){this.full=!this.full,this.aclSrv.setFull(this.full),this.reMenu()}toggleRoleA(){this.full=!1,this.roleA="role-a"===this.roleA?"":"role-a",this.aclSrv.setFull(this.full),this.aclSrv.setRole([this.roleA]),this.reMenu()}toggleRoleB(){this.full=!1,this.roleB="role-b"===this.roleB?"":"role-b",this.aclSrv.setFull(this.full),this.aclSrv.setRole([this.roleB]),this.reMenu()}}w.\u0275fac=function(e){return new(e||w)(n.Y36(on._8),n.Y36(Z.hl))},w.\u0275cmp=n.Xpm({type:w,selectors:[["app-acl"]],decls:32,vars:14,consts:[[1,"yunzai-default__content-title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzTitle","\u6309\u94ae\u7c92\u5ea6"],["nz-button","",3,"acl"],["nz-button","",1,"ml-sm",3,"acl"],["nzTitle","\u5168\u91cf"],["nz-button","",3,"click"],[1,"pt-md"],["nzTitle","\u89d2\u8272[role-a]"],["nzTitle","\u89d2\u8272[role-b]"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"h1"),n._uU(2," ACL \u8bbf\u95ee\u63a7\u5236 "),n.TgZ(3,"small"),n._uU(4,"\u6ce8\u610f\u89c2\u5bdf\u5de6\u8fb9\u7684\u83dc\u5355\uff1bACLService\u63d0\u4f9b\u4e00\u4e2a\u5b8c\u6574\u7684\u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236\u7684\u670d\u52a1\uff0c\u82e5\u9700\u8981\u652f\u6301\u8def\u7531\u5b88\u536b\uff0c\u8bf7\u914d\u5408ACLService\u4e0eRoute Guard\u914d\u5408\u7b80\u4fbf\u5b9e\u73b0\u3002"),n.qZA()()(),n.TgZ(5,"div",1)(6,"div",2)(7,"nz-card",3),n._uU(8),n.ALo(9,"json"),n.TgZ(10,"button",4),n._uU(11,"role-a"),n.qZA(),n.TgZ(12,"button",5),n._uU(13,"role-b"),n.qZA()()()(),n.TgZ(14,"div",1)(15,"div",2)(16,"nz-card",6)(17,"button",7),n.NdJ("click",function(){return t.toggleFull()}),n.TgZ(18,"span"),n._uU(19),n.qZA()(),n.TgZ(20,"p",8),n._uU(21,"\u5168\u91cf\u7c7b\u6307\u7cfb\u7edf\u7ba1\u7406\u5458\u89d2\u8272\uff0c\u65e0\u4efb\u4f55\u53d7\u9650\u3002"),n.qZA()()(),n.TgZ(22,"div",2)(23,"nz-card",9)(24,"button",7),n.NdJ("click",function(){return t.toggleRoleA()}),n.TgZ(25,"span"),n._uU(26),n.qZA()()()(),n.TgZ(27,"div",2)(28,"nz-card",10)(29,"button",7),n.NdJ("click",function(){return t.toggleRoleB()}),n.TgZ(30,"span"),n._uU(31),n.qZA()()()()()),2&e&&(n.xp6(5),n.Q6J("nzGutter",8),n.xp6(1),n.Q6J("nzSpan",24),n.xp6(2),n.hij(" ACL\u539f\u59cb\u6570\u636e\uff1a",n.lcZ(9,12,t.data)," "),n.xp6(2),n.Q6J("acl","role-a"),n.xp6(2),n.Q6J("acl","role-b"),n.xp6(2),n.Q6J("nzGutter",8),n.xp6(1),n.Q6J("nzSpan",8),n.xp6(4),n.hij("",t.full?"\u79bb\u5f00":"\u8bbe\u7f6e","\u6743\u9650"),n.xp6(3),n.Q6J("nzSpan",8),n.xp6(4),n.hij("",t.roleA.length>0?"\u79bb\u5f00":"\u8bbe\u7f6e","\u6743\u9650"),n.xp6(1),n.Q6J("nzSpan",8),n.xp6(4),n.hij("",t.roleB.length>0?"\u79bb\u5f00":"\u8bbe\u7f6e","\u6743\u9650"))},dependencies:[on.wl,v.ix,T.w,y.dQ,A.t3,A.SK,M.bd,h.Ts],encapsulation:2});var Jn=s(4822),rn=s(9651);class B{constructor(e,t){this.cache=e,this.msg=t,this.KEY="user"}set(){this.cache.set(this.KEY,+new Date)}get(){this.msg.success(this.cache.getNone(this.KEY))}}function En(o,e){if(1&o&&(n.TgZ(0,"button",3),n._uU(1),n.qZA()),2&o){const t=e.$implicit,i=n.oxw();n.MGl("http-url","assets/tmp/demo",t,""),n.Q6J("http-data",i.data),n.xp6(1),n.hij(" ",t," ")}}B.\u0275fac=function(e){return new(e||B)(n.Y36(Jn.Q),n.Y36(rn.dD))},B.\u0275cmp=n.Xpm({type:B,selectors:[["app-cache"]],decls:10,vars:0,consts:[[1,"yunzai-default__content-title"],["href","https://ng.yunzainfo.com/components/cache","target","_blank"],["nzTitle","Service"],["nz-button","",3,"click"],["nz-button","",1,"ml-sm",3,"click"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"h1"),n._uU(2," Cache \u7f13\u5b58, "),n.TgZ(3,"a",1),n._uU(4,"Document"),n.qZA()()(),n.TgZ(5,"nz-card",2)(6,"button",3),n.NdJ("click",function(){return t.set()}),n._uU(7,"\u8bbe\u7f6e"),n.qZA(),n.TgZ(8,"button",4),n.NdJ("click",function(){return t.get()}),n._uU(9,"\u83b7\u53d6"),n.qZA()())},dependencies:[v.ix,T.w,y.dQ,M.bd],encapsulation:2});class U{constructor(){this.fileTypes=[".xlsx",".docx",".pptx",".pdf"],this.data={otherdata:1,time:new Date}}}U.\u0275fac=function(e){return new(e||U)},U.\u0275cmp=n.Xpm({type:U,selectors:[["app-down-file"]],decls:5,vars:1,consts:[[1,"yunzai-default__content-title"],["nzTitle","DEMO"],["nz-button","","class","mr-sm","down-file","","file-name","demo\u4e2d\u6587",3,"http-data","http-url",4,"ngFor","ngForOf"],["nz-button","","down-file","","file-name","demo\u4e2d\u6587",1,"mr-sm",3,"http-data","http-url"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"h1"),n._uU(2,"Download a file"),n.qZA()(),n.TgZ(3,"nz-card",1),n.YNc(4,En,2,3,"button",2),n.qZA()),2&e&&(n.xp6(4),n.Q6J("ngForOf",t.fileTypes))},dependencies:[h.sg,v.ix,T.w,y.dQ,M.bd,W],encapsulation:2});var wn=s(726),un=s(39),Bn=s(6018);const Un=function(o){return{params:o}};class Q{constructor(){this.params={},this.url="/user",this.searchSchema={properties:{no:{type:"string",title:"\u7f16\u53f7"}}},this.columns=[{title:"\u7f16\u53f7",index:"no"},{title:"\u8c03\u7528\u6b21\u6570",type:"number",index:"callNo"},{title:"\u5934\u50cf",type:"img",width:"50px",index:"avatar"},{title:"\u65f6\u95f4",type:"date",index:"updatedAt"}]}}Q.\u0275fac=function(e){return new(e||Q)},Q.\u0275cmp=n.Xpm({type:Q,selectors:[["app-yelon-form"]],decls:5,vars:8,consts:[[3,"title"],["mode","search",3,"schema","formData","formSubmit","formReset"],[3,"data","columns","req"],["st",""]],template:function(e,t){if(1&e){const i=n.EpF();n._UZ(0,"page-header",0),n.TgZ(1,"nz-card")(2,"sf",1),n.NdJ("formSubmit",function(l){n.CHM(i);const a=n.MAs(4);return n.KtG(a.reset(l))})("formReset",function(){n.CHM(i);const l=n.MAs(4);return n.KtG(l.reset(t.params))}),n.qZA(),n._UZ(3,"st",2,3),n.qZA()}2&e&&(n.Q6J("title","Page Name"),n.xp6(2),n.Q6J("schema",t.searchSchema)("formData",t.params),n.xp6(1),n.Q6J("data",t.url)("columns",t.columns)("req",n.VKq(6,Un,t.params)))},dependencies:[wn.kJ,un.A5,Bn.q,M.bd],encapsulation:2});class L{}L.\u0275fac=function(e){return new(e||L)},L.\u0275cmp=n.Xpm({type:L,selectors:[["app-guard-admin"]],decls:2,vars:0,template:function(e,t){1&e&&(n.TgZ(0,"p"),n._uU(1,"\u8fd9\u662f\u4e00\u4e2aadmin\u9875\u9762"),n.qZA())},encapsulation:2});class N{}N.\u0275fac=function(e){return new(e||N)},N.\u0275cmp=n.Xpm({type:N,selectors:[["app-guard-auth"]],decls:2,vars:0,template:function(e,t){1&e&&(n.TgZ(0,"p"),n._uU(1,"\u8fd9\u662f\u4e00\u4e2auser1\u9875\u9762"),n.qZA())},encapsulation:2});var Qn=s(9751),Ln=s(5156);class E{constructor(e){this.confirmSrv=e}canDeactivate(e,t,i,r){return new Qn.y(l=>{this.confirmSrv.confirm({nzTitle:"\u786e\u8ba4\u8981\u79bb\u5f00\u5417\uff1f",nzContent:"\u4f60\u5df2\u7ecf\u586b\u5199\u4e86\u90e8\u5206\u8868\u5355\u79bb\u5f00\u4f1a\u653e\u5f03\u5df2\u7ecf\u586b\u5199\u7684\u5185\u5bb9\u3002",nzOkText:"\u79bb\u5f00",nzCancelText:"\u53d6\u6d88",nzOnOk:()=>{l.next(!0),l.complete()},nzOnCancel:()=>{l.next(!1),l.complete()}})})}}E.\u0275fac=function(e){return new(e||E)(n.LFG(Ln.Sf))},E.\u0275prov=n.Yz7({token:E,factory:E.\u0275fac});const Nn=function(){return["/yelon/guard/leave"]},Rn=function(){return["/yelon/guard/auth"]},kn=function(){return["/yelon/guard/admin"]};class R{get data(){return this.aclSrv.data}constructor(e,t,i){this.aclSrv=e,this.menuSrv=t,this.router=i}setRole(e){this.aclSrv.setFull("boolean"==typeof e&&e),this.aclSrv.set({role:[e]}),this.menuSrv.resume(),this.router.navigate(["/yelon/guard"])}}R.\u0275fac=function(e){return new(e||R)(n.Y36(on._8),n.Y36(Z.hl),n.Y36(g.F0))},R.\u0275cmp=n.Xpm({type:R,selectors:[["app-guard"]],decls:28,vars:9,consts:[[1,"yunzai-default__content-title"],["nz-button","",3,"routerLink"],[1,"ml-sm"],["nz-button","",3,"click"],[1,"mb-lg"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"h1"),n._uU(2," \u8def\u7531\u5b88\u536b "),n.qZA()(),n.TgZ(3,"nz-button-group")(4,"button",1)(5,"span"),n._uU(6,"\u79bb\u5f00\u786e\u8ba4\u9875"),n.qZA()()(),n.TgZ(7,"nz-button-group",2)(8,"button",3),n.NdJ("click",function(){return t.setRole(!0)}),n.TgZ(9,"span"),n._uU(10,"\u8bbe\u7f6e\u7ba1\u7406\u5458"),n.qZA()(),n.TgZ(11,"button",3),n.NdJ("click",function(){return t.setRole("user1")}),n.TgZ(12,"span"),n._uU(13,"\u8bbe\u7f6e\u5458\u5de51"),n.qZA()(),n.TgZ(14,"button",3),n.NdJ("click",function(){return t.setRole("user2")}),n.TgZ(15,"span"),n._uU(16,"\u8bbe\u7f6e\u5458\u5de52"),n.qZA()()(),n.TgZ(17,"nz-button-group",2)(18,"button",1)(19,"span"),n._uU(20,"\u9700\u8981user1"),n.qZA()(),n.TgZ(21,"button",1)(22,"span"),n._uU(23,"\u9700\u8981\u7ba1\u7406\u5458"),n.qZA()()(),n.TgZ(24,"p",4),n._uU(25),n.ALo(26,"json"),n.qZA(),n._UZ(27,"router-outlet")),2&e&&(n.xp6(4),n.Q6J("routerLink",n.DdM(6,Nn)),n.xp6(14),n.Q6J("routerLink",n.DdM(7,Rn)),n.xp6(3),n.Q6J("routerLink",n.DdM(8,kn)),n.xp6(4),n.hij("\u5f53\u524dACL\u4fe1\u606f\uff1a",n.lcZ(26,4,t.data),""))},dependencies:[g.lC,g.rH,v.ix,v.fY,T.w,y.dQ,h.Ts],encapsulation:2});const On=function(){return["/logics/guard"]};class k{}k.\u0275fac=function(e){return new(e||k)},k.\u0275cmp=n.Xpm({type:k,selectors:[["app-guard-leave"]],decls:5,vars:3,consts:[["nz-button","",3,"nzType","routerLink"]],template:function(e,t){1&e&&(n.TgZ(0,"p"),n._uU(1,"\u79bb\u5f00\u65f6\u9700\u8981\u786e\u8ba4"),n.qZA(),n.TgZ(2,"button",0)(3,"span"),n._uU(4,"\u6211\u8981\u79bb\u5f00"),n.qZA()()),2&e&&(n.xp6(2),n.Q6J("nzType","primary")("routerLink",n.DdM(2,On)))},dependencies:[g.rH,v.ix,T.w,y.dQ],encapsulation:2});var qn=s(9646);let Gn=(()=>{class o{constructor(t,i){this.scriptSrv=t,this.pending=!1,this._lodop=null,this._init=new tn.x,this._events=new tn.x,this.printBuffer=[],this.defaultConfig=i.merge("lodop",{url:"//localhost:8443/CLodopfuncs.js",name:"CLODOP",companyName:"",checkMaxCount:100}),this.cog=this.defaultConfig}get cog(){return this._cog}set cog(t){this._cog={...this.defaultConfig,...t}}get events(){return this._events.asObservable()}get lodop(){return this._lodop?(0,qn.of)({ok:!0,lodop:this._lodop}):(this.pending||this.request(),this._init.asObservable())}get printer(){this.check();const t=[],i=this._lodop.GET_PRINTER_COUNT();for(let r=0;r<i;r++)t.push(this._lodop.GET_PRINTER_NAME(r));return t}check(){if(!this._lodop)throw new Error("\u8bf7\u52a1\u5fc5\u5148\u8c03\u7528 lodop \u83b7\u53d6\u5bf9\u8c61")}request(){this.pending=!0;let i=this.cog.checkMaxCount;const r=(a,m)=>{this._init.next({ok:"ok"===a,status:a,error:m,lodop:this._lodop})},l=()=>{if(--i,this._lodop.webskt&&1===this._lodop.webskt.readyState)r("ok");else{if(i<0)return void r("check-limit");setTimeout(()=>l(),100)}};this.scriptSrv.loadScript(`${this.cog.url}?name=${this.cog.name}`).then(a=>{if("ok"!==a.status)return this.pending=!1,void r("script-load-error",a[0]);const m=window;m.hasOwnProperty(this.cog.name)&&(this._lodop=m[this.cog.name]),null!==this._lodop?(this._lodop.SET_LICENSES(this.cog.companyName,this.cog.license,this.cog.licenseA,this.cog.licenseB),l()):r("load-variable-name-error",{name:this.cog.name})})}reset(){this._lodop=null,this.pending=!1,this.request()}attachCode(t,i,r){this.check(),r||(r=/LODOP\.([^(]+)\(([^\n]+)?\);/i),t.split("\n").forEach(l=>{const a=r.exec(l.trim());if(!a)return;const m=this._lodop[a[1]];if(m){let _=null;try{_=new Function(`return [${a[2]}]`)()}catch{}if(null!=_&&Array.isArray(_)&&i)for(let F=0;F<_.length;F++)"string"==typeof _[F]&&(_[F]=_[F].replace(/{{(.*?)}}/g,(vt,ht)=>i[ht.trim()]||""));m.apply(this._lodop,_)}})}design(){this.check();const t=this._lodop.PRINT_DESIGN();return new Promise(i=>{this._lodop.On_Return=(r,l)=>{t===r&&(this._lodop.On_Return=null,i(`${l}`))}})}printDo(){const t=this.printBuffer.shift();if(!t)return;this.attachCode(t.code,t.item,t.parser);const i=this._lodop.PRINT();this._lodop.On_Return=(r,l)=>{i===r&&(this._lodop.On_Return=null,this._events.next({ok:!0===l,error:!0===l?null:l,...t}),this.printDo())}}print(t,i,r){this.check(),i&&this.printBuffer.push(...(Array.isArray(i)?i:[i]).map(l=>({code:t,parser:r,item:l}))),this.printDo()}ngOnDestroy(){this._init.unsubscribe(),this._events.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(n.LFG(fn.Df),n.LFG(gn.Pj))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var Yn=s(387),p=s(4006),an=s(8231),jn=s(9597),b=s(5635),C=s(6704);function Pn(o,e){1&o&&(n._uU(0," \u8bf7\u5148\u4e0b\u8f7d "),n.TgZ(1,"a",6),n._uU(2,"Lodop\u63d2\u4ef6"),n.qZA(),n._uU(3,"\u3002 "))}function In(o,e){if(1&o&&(n.TgZ(0,"nz-alert",4),n.YNc(1,Pn,4,0,"ng-template",null,5,n.W1O),n.qZA()),2&o){const t=n.MAs(2);n.Q6J("nzType","warning")("nzMessage",t)}}function Hn(o,e){if(1&o&&n._UZ(0,"nz-option",20),2&o){const t=e.$implicit;n.Q6J("nzLabel",t)("nzValue",t)}}function Kn(o,e){if(1&o&&n._UZ(0,"nz-option",20),2&o){const t=e.$implicit;n.Q6J("nzLabel",t)("nzValue",t)}}function $n(o,e){if(1&o){const t=n.EpF();n.TgZ(0,"form",7)(1,"nz-form-item",8)(2,"nz-form-label",9),n._uU(3,"\u6253\u5370\u670d\u52a1\u5668"),n.qZA(),n.TgZ(4,"nz-form-control",9)(5,"nz-input-group")(6,"div",10)(7,"input",11),n.NdJ("ngModelChange",function(r){n.CHM(t);const l=n.oxw();return n.KtG(l.cog.url=r)}),n.qZA()(),n.TgZ(8,"div",10)(9,"button",12),n.NdJ("click",function(){n.CHM(t);const r=n.oxw();return n.KtG(r.reload(null))}),n._uU(10,"\u91cd\u65b0\u52a0\u8f7d\u6253\u5370\u673a"),n.qZA()()()()(),n.TgZ(11,"nz-form-item",8)(12,"nz-form-label",9),n._uU(13,"\u6253\u5370\u673a"),n.qZA(),n.TgZ(14,"nz-form-control",9)(15,"nz-select",13),n.NdJ("ngModelChange",function(r){n.CHM(t);const l=n.oxw();return n.KtG(l.cog.printer=r)})("ngModelChange",function(r){n.CHM(t);const l=n.oxw();return n.KtG(l.changePinter(r))}),n.YNc(16,Hn,1,2,"nz-option",14),n.qZA()()(),n.TgZ(17,"nz-form-item",8)(18,"nz-form-label",9),n._uU(19,"\u7eb8\u5f20\u7c7b\u578b"),n.qZA(),n.TgZ(20,"nz-form-control",9)(21,"nz-select",15),n.NdJ("ngModelChange",function(r){n.CHM(t);const l=n.oxw();return n.KtG(l.cog.paper=r)}),n.YNc(22,Kn,1,2,"nz-option",14),n.qZA()()(),n.TgZ(23,"nz-form-item",8)(24,"nz-form-label",9),n._uU(25,"\u6253\u5370\u5185\u5bb9"),n.qZA(),n.TgZ(26,"nz-form-control",9)(27,"textarea",16),n.NdJ("ngModelChange",function(r){n.CHM(t);const l=n.oxw();return n.KtG(l.cog.html=r)}),n.qZA(),n.TgZ(28,"div",17),n._uU(29,"\u4ec5\u9650HTML\uff0c\u66f4\u591a\u7c7b\u578b\u652f\u6301\u8bf7\u53c2\u8003\u5b98\u7f51"),n.qZA()()(),n.TgZ(30,"nz-form-item",8)(31,"nz-form-control",18)(32,"button",19),n.NdJ("click",function(){n.CHM(t);const r=n.oxw();return n.KtG(r.print(!0))}),n._uU(33,"\u6253\u5370\u9884\u89c8"),n.qZA(),n.TgZ(34,"button",19),n.NdJ("click",function(){n.CHM(t);const r=n.oxw();return n.KtG(r.print())}),n._uU(35,"\u76f4\u63a5\u6253\u5370"),n.qZA()()()()}if(2&o){const t=n.oxw();n.xp6(2),n.Q6J("nzSm",6),n.xp6(2),n.Q6J("nzSm",18),n.xp6(2),n.Q6J("nzSpan",16),n.xp6(1),n.Q6J("ngModel",t.cog.url),n.xp6(1),n.Q6J("nzSpan",8),n.xp6(4),n.Q6J("nzSm",6),n.xp6(2),n.Q6J("nzSm",18),n.xp6(1),n.Q6J("ngModel",t.cog.printer),n.xp6(1),n.Q6J("ngForOf",t.pinters),n.xp6(2),n.Q6J("nzSm",6),n.xp6(2),n.Q6J("nzSm",18),n.xp6(1),n.Q6J("ngModel",t.cog.paper),n.xp6(1),n.Q6J("ngForOf",t.papers),n.xp6(2),n.Q6J("nzSm",6),n.xp6(2),n.Q6J("nzSm",18),n.xp6(1),n.Q6J("ngModel",t.cog.html),n.xp6(4),n.Q6J("nzSm",18)("nzOffset",6),n.xp6(1),n.Q6J("nzLoading",t.printing),n.xp6(2),n.Q6J("nzLoading",t.printing)}}class O{constructor(e,t,i){this.lodopSrv=e,this.msg=t,this.notify=i,this.cog={url:"https://localhost:8443/CLodopfuncs.js",printer:"",paper:"",html:"\n      <h1>Title</h1>\n      <p>\u8fd9~\uff01@#\uffe5%\u2026\u2026&*\uff08\uff09\u2014\u2014sdilfjnvn</p>\n      <p>\u8fd9~\uff01@#\uffe5%\u2026\u2026&*\uff08\uff09\u2014\u2014sdilfjnvn</p>\n      <p>\u8fd9~\uff01@#\uffe5%\u2026\u2026&*\uff08\uff09\u2014\u2014sdilfjnvn</p>\n      <p>\u8fd9~\uff01@#\uffe5%\u2026\u2026&*\uff08\uff09\u2014\u2014sdilfjnvn</p>\n      <p>\u8fd9~\uff01@#\uffe5%\u2026\u2026&*\uff08\uff09\u2014\u2014sdilfjnvn</p>\n    "},this.error=!1,this.lodop=null,this.pinters=[],this.papers=[],this.printing=!1,this.lodopSrv.lodop.subscribe(({lodop:r,ok:l})=>{l?(this.error=!1,this.msg.success("\u6253\u5370\u673a\u52a0\u8f7d\u6210\u529f"),this.lodop=r,this.pinters=this.lodopSrv.printer):this.error=!0})}reload(e={url:"https://localhost:8443/CLodopfuncs.js"}){this.pinters=[],this.papers=[],this.cog.printer="",this.cog.paper="",this.lodopSrv.cog={...this.cog,...e},this.error=!1,null===e&&this.lodopSrv.reset()}changePinter(e){null!=this.lodop&&(this.papers=this.lodop.GET_PAGESIZES_LIST(e,"\n").split("\n"))}print(e=!1){const t=this.lodop;t.PRINT_INITA(10,20,810,610,"\u6d4b\u8bd5C-Lodop\u8fdc\u7a0b\u6253\u5370\u56db\u6b65\u9aa4"),t.SET_PRINTER_INDEXA(this.cog.printer),t.SET_PRINT_PAGESIZE(0,0,0,this.cog.paper),t.ADD_PRINT_TEXT(1,1,300,200,"\u4e0b\u9762\u8f93\u51fa\u7684\u662f\u672c\u9875\u6e90\u4ee3\u7801\u53ca\u5176\u5c55\u73b0\u6548\u679c\uff1a"),t.ADD_PRINT_TEXT(20,10,"90%","95%",this.cog.html),t.SET_PRINT_STYLEA(0,"ItemType",4),t.NEWPAGEA(),t.ADD_PRINT_HTM(20,10,"90%","95%",this.cog.html),e?t.PREVIEW():t.PRINT()}}O.\u0275fac=function(e){return new(e||O)(n.Y36(Gn),n.Y36(rn.dD),n.Y36(Yn.zb))},O.\u0275cmp=n.Xpm({type:O,selectors:[["app-print"]],decls:10,vars:2,consts:[[1,"yunzai-default__content-title"],["href","https://ng.yunzainfo.com/components/lodop","target","_blank"],[3,"nzType","nzMessage",4,"ngIf"],["nz-form","",4,"ngIf"],[3,"nzType","nzMessage"],["message",""],["href","http://c-lodop.com/download.html","target","_blank"],["nz-form",""],["nz-row",""],["nz-col","",3,"nzSm"],["nz-col","",3,"nzSpan"],["nz-input","","nzPlaceHolder","https://localhost:8443/CLodopfuncs.js","name","url",3,"ngModel","ngModelChange"],["nz-button","",3,"click"],["nzPlaceHolder","\u8bf7\u9009\u62e9\u6253\u5370\u673a","nzShowSearch","","nzAllowClear","","name","printer",2,"width","90%",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzPlaceHolder","\u8bf7\u9009\u62e9\u7eb8\u5f20\u7c7b\u578b","nzShowSearch","","nzAllowClear","","name","paper",2,"width","90%",3,"ngModel","ngModelChange"],["nz-input","","name","html","nzAutosize","",3,"ngModel","ngModelChange"],["nz-form-extra",""],["nz-col","",3,"nzSm","nzOffset"],["nz-button","",3,"nzLoading","click"],[3,"nzLabel","nzValue"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"h1"),n._uU(2," Lodop\u6253\u5370 "),n.TgZ(3,"small"),n._uU(4,"\u66f4\u591a\u4f53\u9a8c\u8bf7\u81f3 "),n.TgZ(5,"a",1),n._uU(6,"ng.yunzainfo.com"),n.qZA()()()(),n.TgZ(7,"nz-card"),n.YNc(8,In,3,2,"nz-alert",2),n.YNc(9,$n,36,20,"form",3),n.qZA()),2&e&&(n.xp6(8),n.Q6J("ngIf",t.error),n.xp6(1),n.Q6J("ngIf",!t.error))},dependencies:[h.sg,h.O5,p._Y,p.Fj,p.JJ,p.JL,p.On,p.F,v.ix,T.w,y.dQ,A.t3,A.SK,an.Ip,an.Vq,jn.r,b.Zp,b.gB,b.rh,C.Lr,C.Nx,C.iK,C.Fd,M.bd],encapsulation:2});var Vn=s(7096);const x=function(){return{standalone:!0}};class q{constructor(){this.value="https://ng.yunzainfo.com/",this.background="#ffffff",this.backgroundAlpha=1,this.foreground="#000000",this.foregroundAlpha=1,this.level="L",this.mime="image/png",this.padding=10,this.size=220}}q.\u0275fac=function(e){return new(e||q)},q.\u0275cmp=n.Xpm({type:q,selectors:[["app-qr"]],decls:54,vars:59,consts:[[1,"yunzai-default__content-title"],["href","//ng.yunzainfo.com/components/qr","target","_blank"],[3,"nzGutter"],[1,"text-center",3,"nzSpan"],[2,"border","1px solid #999",3,"value","background","backgroundAlpha","foreground","foregroundAlpha","level","mime","padding","size"],[3,"nzSpan"],["nz-form",""],["nz-input","","type","color",2,"width","100px",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","nzMin","nzMax","nzStep","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],["nzValue","L","nzLabel","L"],["nzValue","M","nzLabel","M"],["nzValue","Q","nzLabel","Q"],["nzValue","H","nzLabel","H"],["nzValue","image/png","nzLabel","image/png"],["nzValue","image/jpeg","nzLabel","image/jpeg"],["nzValue","image/gif","nzLabel","image/gif"],[3,"ngModel","ngModelOptions","nzMin","nzMax","ngModelChange"],[3,"ngModel","ngModelOptions","nzMin","nzMax","nzStep","ngModelChange"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"h1"),n._uU(2," \u4e8c\u7ef4\u7801 "),n.TgZ(3,"a",1),n._uU(4,"Document"),n.qZA()()(),n.TgZ(5,"nz-card")(6,"nz-row",2)(7,"nz-col",3),n._UZ(8,"qr",4),n.qZA(),n.TgZ(9,"nz-col",5)(10,"form",6)(11,"nz-form-item")(12,"nz-form-label",5),n._uU(13,"\u80cc\u666f"),n.qZA(),n.TgZ(14,"nz-form-control",5)(15,"nz-input-group")(16,"input",7),n.NdJ("ngModelChange",function(r){return t.background=r}),n.qZA(),n.TgZ(17,"nz-input-number",8),n.NdJ("ngModelChange",function(r){return t.backgroundAlpha=r}),n.qZA()()()(),n.TgZ(18,"nz-form-item")(19,"nz-form-label",5),n._uU(20,"\u524d\u666f"),n.qZA(),n.TgZ(21,"nz-form-control",5)(22,"nz-input-group")(23,"input",7),n.NdJ("ngModelChange",function(r){return t.foreground=r}),n.qZA(),n.TgZ(24,"nz-input-number",8),n.NdJ("ngModelChange",function(r){return t.foregroundAlpha=r}),n.qZA()()()(),n.TgZ(25,"nz-form-item")(26,"nz-form-label",5),n._uU(27,"\u8bef\u5dee"),n.qZA(),n.TgZ(28,"nz-form-control",5)(29,"nz-select",9),n.NdJ("ngModelChange",function(r){return t.level=r}),n._UZ(30,"nz-option",10)(31,"nz-option",11)(32,"nz-option",12)(33,"nz-option",13),n.qZA()()(),n.TgZ(34,"nz-form-item")(35,"nz-form-label",5),n._uU(36,"Mime"),n.qZA(),n.TgZ(37,"nz-form-control",5)(38,"nz-select",9),n.NdJ("ngModelChange",function(r){return t.mime=r}),n._UZ(39,"nz-option",14)(40,"nz-option",15)(41,"nz-option",16),n.qZA()()(),n.TgZ(42,"nz-form-item")(43,"nz-form-label",5),n._uU(44,"\u5185\u8fb9\u8ddd"),n.qZA(),n.TgZ(45,"nz-form-control",5)(46,"nz-input-number",17),n.NdJ("ngModelChange",function(r){return t.padding=r}),n.qZA(),n._uU(47,"px "),n.qZA()(),n.TgZ(48,"nz-form-item")(49,"nz-form-label",5),n._uU(50,"\u5927\u5c0f"),n.qZA(),n.TgZ(51,"nz-form-control",5)(52,"nz-input-number",18),n.NdJ("ngModelChange",function(r){return t.size=r}),n.qZA(),n._uU(53,"px "),n.qZA()()()()()()),2&e&&(n.xp6(6),n.Q6J("nzGutter",24),n.xp6(1),n.Q6J("nzSpan",8),n.xp6(1),n.Q6J("value",t.value)("background",t.background)("backgroundAlpha",t.backgroundAlpha)("foreground",t.foreground)("foregroundAlpha",t.foregroundAlpha)("level",t.level)("mime",t.mime)("padding",t.padding)("size",t.size),n.xp6(1),n.Q6J("nzSpan",16),n.xp6(3),n.Q6J("nzSpan",8),n.xp6(2),n.Q6J("nzSpan",16),n.xp6(2),n.Q6J("ngModel",t.background)("ngModelOptions",n.DdM(51,x)),n.xp6(1),n.Q6J("ngModel",t.backgroundAlpha)("nzMin",0)("nzMax",1)("nzStep",.1)("ngModelOptions",n.DdM(52,x)),n.xp6(2),n.Q6J("nzSpan",8),n.xp6(2),n.Q6J("nzSpan",16),n.xp6(2),n.Q6J("ngModel",t.foreground)("ngModelOptions",n.DdM(53,x)),n.xp6(1),n.Q6J("ngModel",t.foregroundAlpha)("nzMin",0)("nzMax",1)("nzStep",.1)("ngModelOptions",n.DdM(54,x)),n.xp6(2),n.Q6J("nzSpan",8),n.xp6(2),n.Q6J("nzSpan",16),n.xp6(1),n.Q6J("ngModel",t.level)("ngModelOptions",n.DdM(55,x)),n.xp6(6),n.Q6J("nzSpan",8),n.xp6(2),n.Q6J("nzSpan",16),n.xp6(1),n.Q6J("ngModel",t.mime)("ngModelOptions",n.DdM(56,x)),n.xp6(5),n.Q6J("nzSpan",8),n.xp6(2),n.Q6J("nzSpan",16),n.xp6(1),n.Q6J("ngModel",t.padding)("ngModelOptions",n.DdM(57,x))("nzMin",0)("nzMax",100),n.xp6(3),n.Q6J("nzSpan",8),n.xp6(2),n.Q6J("nzSpan",16),n.xp6(1),n.Q6J("ngModel",t.size)("ngModelOptions",n.DdM(58,x))("nzMin",100)("nzMax",1e3)("nzStep",t.padding))},dependencies:[p._Y,p.Fj,p.JJ,p.JL,p.On,p.F,T.w,A.t3,A.SK,an.Ip,an.Vq,b.Zp,b.gB,Vn._V,C.Lr,C.Nx,C.iK,C.Fd,M.bd,Cn],encapsulation:2});var Tn=s(351),Zn=s(3325),_n=s(9562),Xn=s(1102);const Wn=function(){return[0,0,0,0]};function nt(o,e){if(1&o&&n._UZ(0,"g2-mini-bar",21),2&o){const t=n.oxw();n.Q6J("padding",n.DdM(2,Wn))("data",t.events)}}const tt=function(o){return{params:o}},et=function(){return{list:"results"}},ot=function(o){return{reName:o}};class G{constructor(e,t){this.http=e,this.message=t,this.ps=20,this.total=200,this.args={_allow_anonymous:!0,userid:null},this.url="https://api.randomuser.me/?results=20",this.events=[],this.scroll={y:"230px"},this.columns=[{title:"id",index:"id.value",type:"checkbox"},{title:"Avatar",index:"picture.thumbnail",type:"img",width:80},{title:"Name",index:"name.first",width:150,format:i=>`${i.name.first} ${i.name.last}`,type:"link",click:i=>this.message.info(`${i.name.first}`)},{title:"Email",index:"email"},{title:"Gender",index:"gender",type:"yn",yn:{truth:"female",yes:"\u7537",no:"\u5973",mode:"text"},width:120},{title:"Events",render:"events",width:90},{title:"Registered",index:"registered.date",type:"date",width:170},{title:"Actions",width:120,buttons:[{text:"Edit",click:i=>this.message.info(`edit [${i.id.value}]`),iif:i=>"female"===i.gender},{text:"Delete",type:"del",click:i=>this.message.info(`deleted [${i.id.value}]`)}]}]}ngOnInit(){this.http.get("/chart/visit").subscribe(e=>this.events=e.slice(0,8))}fullChange(e){this.scroll=e?{y:"350px"}:{y:"230px"}}}G.\u0275fac=function(e){return new(e||G)(n.Y36(Z.lP),n.Y36(rn.dD))},G.\u0275cmp=n.Xpm({type:G,selectors:[["app-st"]],decls:43,vars:18,consts:[[1,"yunzai-default__content-title"],["href","//ng.yunzainfo.com/components/table","target","_blank"],["href","//ng.yunzainfo.com/components/full-content","target","_blank"],[3,"fullscreenChange"],["nz-row","",1,"mb-md"],["nz-col","","nzSpan","12"],["nz-form","","nzLayout","inline","se-container",""],["label","User ID","labelWidth","0"],["nz-input","","name","userid","id","userid",3,"ngModel","ngModelChange"],["nz-button","",3,"nzType","nzLoading","click"],["nz-button","",3,"disabled","click"],[1,"text-right"],["nz-button","","nz-dropdown","",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["exportMenu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item",""],["nz-button","","full-toggle","",1,"ml-sm",3,"nzType"],[3,"data","req","res","total","ps","columns","scroll"],["st",""],["st-row","events"],["height","15","theme","mini","color","#999","borderWidth","3","tooltipType","mini",3,"padding","data"]],template:function(e,t){if(1&e){const i=n.EpF();n.TgZ(0,"div",0)(1,"h1"),n._uU(2," Fullscreen & ST "),n.TgZ(3,"small"),n._uU(4,"\u4f7f\u7528 "),n.TgZ(5,"a",1),n._uU(6,"st"),n.qZA(),n._uU(7,"\u3001 "),n.TgZ(8,"a",2),n._uU(9,"full-content"),n.qZA(),n._uU(10," \u7ec4\u5408\uff0c\u7531\u4e8e nz-table \u56fa\u5b9a\u8868\u5934\u6682\u4e0d\u652f\u6301\u81ea\u9002\u5e94\uff0c\u56e0\u6b64\u8868\u683c\u7684\u5c55\u793a\u7684\u6548\u679c\u5728\u54cd\u5e94\u5f0f\u91cc\u9762\u6548\u679c\u5e76\u4e0d\u662f\u7279\u522b\u597d\u3002"),n.qZA()()(),n.TgZ(11,"full-content",3),n.NdJ("fullscreenChange",function(l){return t.fullChange(l)}),n.TgZ(12,"nz-card")(13,"div",4)(14,"div",5)(15,"form",6)(16,"se",7)(17,"input",8),n.NdJ("ngModelChange",function(l){return t.args.userid=l}),n.qZA()(),n.TgZ(18,"se")(19,"button",9),n.NdJ("click",function(){n.CHM(i);const l=n.MAs(41);return n.KtG(l.load())}),n._uU(20,"Search"),n.qZA(),n.TgZ(21,"button",10),n.NdJ("click",function(){n.CHM(i);const l=n.MAs(41);return n.KtG(l.load(1,{_allow_anonymous:!0}))}),n._uU(22,"Clear"),n.qZA()()()(),n.TgZ(23,"div",5)(24,"div",11)(25,"button",12)(26,"span"),n._uU(27,"Export"),n.qZA(),n._UZ(28,"i",13),n.qZA(),n.TgZ(29,"nz-dropdown-menu",null,14)(31,"ul",15)(32,"li",16),n._uU(33,"Excel"),n.qZA(),n.TgZ(34,"li",16),n._uU(35,"JSON"),n.qZA(),n.TgZ(36,"li",16),n._uU(37,"PNG"),n.qZA()()(),n.TgZ(38,"button",17),n._uU(39,"Full"),n.qZA()()()(),n.TgZ(40,"st",18,19),n.YNc(42,nt,1,3,"ng-template",20),n.qZA()()()}if(2&e){const i=n.MAs(30);n.xp6(17),n.Q6J("ngModel",t.args.userid),n.xp6(2),n.Q6J("nzType","primary")("nzLoading",t.http.loading),n.xp6(2),n.Q6J("disabled",t.http.loading),n.xp6(4),n.Q6J("nzDropdownMenu",i),n.xp6(13),n.Q6J("nzType","default"),n.xp6(2),n.Q6J("data",t.url)("req",n.VKq(13,tt,t.args))("res",n.VKq(16,ot,n.DdM(15,et)))("total",t.total)("ps",t.ps)("columns",t.columns)("scroll",t.scroll)}},dependencies:[p._Y,p.Fj,p.JJ,p.JL,p.On,p.F,un.A5,un.wZ,Tn.nV,Tn.d_,v.ix,T.w,y.dQ,Zn.wO,Zn.r9,_n.cm,_n.RR,_n.wA,A.t3,A.SK,Xn.Ls,b.Zp,C.Lr,M.bd,hn,zn,vn.N],encapsulation:2});var it=s(7649),rt=s(9143);const yn=function(){return{standalone:!0}};class Y{constructor(e){this.messageSrv=e,this.format_str="this is ${name}",this.format_res="",this.format_obj=JSON.stringify({name:"asdf"}),this.content=`time ${+new Date}\n\n    \u4e2d\u6587\uff01@#\uffe5%\u2026\u2026&*`}onFormat(){let e=null;try{e=JSON.parse(this.format_obj)}catch{return void this.messageSrv.error("\u65e0\u6cd5\u4f7f\u7528 JSON.parse \u8f6c\u6362")}this.format_res=(0,rt.WU)(this.format_str,e,!0)}onYuan(e){this.yuan_res=(0,$.c2)(e)}onCopy(){(0,it.JG)("time "+ +new Date).then(()=>this.messageSrv.success("success"))}}Y.\u0275fac=function(e){return new(e||Y)(n.Y36(rn.dD))},Y.\u0275cmp=n.Xpm({type:Y,selectors:[["app-util"]],decls:39,vars:23,consts:[[1,"yunzai-default__content-title"],[3,"nzGutter"],[3,"nzSpan"],["nzTitle","\u5b57\u7b26\u4e32\u7c7b"],["nzType","inner","nzTitle","format"],["nz-form",""],[3,"nzSm"],["nz-input","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"nzSpan","nzOffset"],["nz-button","",3,"click"],["nzType","inner","nzTitle","yuan"],["type","number","nz-input","",3,"ngModel","ngModelChange"],[3,"innerHTML"],["nzTitle","\u5176\u5b83\u7c7b"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"h1"),n._uU(2," \u5de5\u5177\u96c6 "),n.TgZ(3,"small"),n._uU(4,"@yelon/util \u65e5\u5e38\u7528\u6cd5\u3002"),n.qZA()()(),n.TgZ(5,"nz-row",1)(6,"nz-col",2)(7,"nz-card",3)(8,"nz-card",4)(9,"form",5)(10,"nz-form-item")(11,"nz-form-label",6),n._uU(12,"String"),n.qZA(),n.TgZ(13,"nz-form-control",6)(14,"input",7),n.NdJ("ngModelChange",function(r){return t.format_str=r}),n.qZA()()(),n.TgZ(15,"nz-form-item")(16,"nz-form-label",6),n._uU(17,"Object"),n.qZA(),n.TgZ(18,"nz-form-control",6)(19,"input",7),n.NdJ("ngModelChange",function(r){return t.format_obj=r}),n.qZA()()(),n.TgZ(20,"nz-form-item")(21,"nz-form-control",8)(22,"button",9),n.NdJ("click",function(){return t.onFormat()}),n._uU(23,"Run"),n.qZA()()(),n.TgZ(24,"nz-form-item")(25,"nz-form-label",6),n._uU(26,"Result"),n.qZA(),n.TgZ(27,"nz-form-control",6),n._uU(28),n.qZA()()()(),n.TgZ(29,"nz-card",10)(30,"nz-row",1)(31,"nz-col",2)(32,"input",11),n.NdJ("ngModelChange",function(r){return t.yuan_str=r})("ngModelChange",function(r){return t.onYuan(r)}),n.qZA()(),n.TgZ(33,"nz-col",2),n._UZ(34,"div",12),n.qZA()()()()(),n.TgZ(35,"nz-col",2)(36,"nz-card",13)(37,"button",9),n.NdJ("click",function(){return t.onCopy()}),n._uU(38,"Copy"),n.qZA()()()()),2&e&&(n.xp6(5),n.Q6J("nzGutter",16),n.xp6(1),n.Q6J("nzSpan",12),n.xp6(5),n.Q6J("nzSm",8),n.xp6(2),n.Q6J("nzSm",16),n.xp6(1),n.Q6J("ngModel",t.format_str)("ngModelOptions",n.DdM(21,yn)),n.xp6(2),n.Q6J("nzSm",8),n.xp6(2),n.Q6J("nzSm",16),n.xp6(1),n.Q6J("ngModel",t.format_obj)("ngModelOptions",n.DdM(22,yn)),n.xp6(2),n.Q6J("nzSpan",16)("nzOffset",8),n.xp6(4),n.Q6J("nzSm",8),n.xp6(2),n.Q6J("nzSm",16),n.xp6(1),n.hij(" ",t.format_res," "),n.xp6(2),n.Q6J("nzGutter",16),n.xp6(1),n.Q6J("nzSpan",12),n.xp6(1),n.Q6J("ngModel",t.yuan_str),n.xp6(1),n.Q6J("nzSpan",12),n.xp6(1),n.Q6J("innerHTML",t.yuan_res,n.oJD),n.xp6(1),n.Q6J("nzSpan",12))},dependencies:[p._Y,p.Fj,p.wV,p.JJ,p.JL,p.On,p.F,v.ix,T.w,y.dQ,A.t3,A.SK,b.Zp,C.Lr,C.Nx,C.iK,C.Fd,M.bd],encapsulation:2});var lt=s(4897);class j{constructor(e){this.xlsx=e,this.users=Array(100).fill(0).map((t,i)=>({id:i+1,name:`name ${i+1}`,age:Math.ceil(10*Math.random())+20})),this.columns=[{title:"\u7f16\u53f7",index:"id",type:"checkbox"},{title:"\u59d3\u540d",index:"name"},{title:"\u5e74\u9f84",index:"age"}]}url(){this.xlsx.import("./assets/tmp/demo.xlsx").then(e=>this.data=e)}change(e){this.xlsx.import(e.target.files[0]).then(i=>this.data=i)}download(){const e=[this.columns.map(t=>t.title)];this.users.forEach(t=>e.push(this.columns.map(i=>t[i.index]))),this.xlsx.export({sheets:[{data:e,name:"sheet name"}]})}}j.\u0275fac=function(e){return new(e||j)(n.Y36(lt.be))},j.\u0275cmp=n.Xpm({type:j,selectors:[["app-xlsx"]],decls:16,vars:6,consts:[[1,"yunzai-default__content-title"],["href","//ng.yunzainfo.com/components/xlsx","target","_blank"],["nzTitle","Import"],["nz-button","",3,"click"],["type","file","multiple","false",1,"ml-sm",3,"change"],[1,"mt-sm"],["nzTitle","Export"],[1,"mt-sm",3,"data","ps","columns"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"h1"),n._uU(2," Import & Export excel file, "),n.TgZ(3,"a",1),n._uU(4,"Document"),n.qZA()()(),n.TgZ(5,"nz-card",2)(6,"button",3),n.NdJ("click",function(){return t.url()}),n._uU(7,"Via Url"),n.qZA(),n.TgZ(8,"input",4),n.NdJ("change",function(r){return t.change(r)}),n.qZA(),n.TgZ(9,"p",5),n._uU(10),n.ALo(11,"json"),n.qZA()(),n.TgZ(12,"nz-card",6)(13,"button",3),n.NdJ("click",function(){return t.download()}),n._uU(14,"Export"),n.qZA(),n._UZ(15,"st",7),n.qZA()),2&e&&(n.xp6(10),n.hij("result: ",n.lcZ(11,4,t.data),""),n.xp6(5),n.Q6J("data",t.users)("ps",3)("columns",t.columns))},dependencies:[un.A5,v.ix,T.w,y.dQ,M.bd,h.Ts],encapsulation:2});var st=s(529);let ut=(()=>{class o{constructor(t,i,r,l){this.http=t,this.lazy=i,this.ngZone=l,this.cog=r.merge("zip",{url:"https://cdn.jsdelivr.net/npm/jszip@3/dist/jszip.min.js",utils:[]})}init(){return this.lazy.load([this.cog.url].concat(this.cog.utils))}check(t){if(!t)throw new Error("get instance via `ZipService.create()`")}read(t,i){return new Promise((r,l)=>{const a=m=>{this.ngZone.run(()=>r(m))};this.init().then(()=>{if("string"==typeof t)return void this.http.request("GET",t,{responseType:"arraybuffer"}).subscribe({next:_=>{JSZip.loadAsync(_,i).then(F=>a(F))},error:_=>{l(_)}});const m=new FileReader;m.onload=_=>{JSZip.loadAsync(_.target.result,i).then(F=>a(F))},m.readAsBinaryString(t)})})}create(){return new Promise(t=>{this.init().then(()=>{const i=new JSZip;t(i)}).catch(()=>t(null))})}pushUrl(t,i,r){return this.check(t),new Promise((l,a)=>{this.http.request("GET",r,{responseType:"arraybuffer"}).subscribe({next:m=>{t.file(i,m),l()},error:m=>{a({url:r,error:m})}})})}save(t,i){this.check(t);const r={filename:"download.zip",...i};return new Promise((l,a)=>{t.generateAsync({type:"blob",...r.options},r.update).then(m=>{r.callback&&r.callback(m),(0,X.saveAs)(m,r.filename),l()},m=>{a(m)})})}}return o.\u0275fac=function(t){return new(t||o)(n.LFG(st.eN),n.LFG(fn.Df),n.LFG(gn.Pj),n.LFG(n.R0b))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),(0,u.gn)([(0,z.EA)()],o.prototype,"read",null),o})();var P=s(269);function at(o,e){if(1&o&&(n.TgZ(0,"li"),n._uU(1),n.ALo(2,"json"),n.qZA()),2&o){const t=e.$implicit;n.xp6(1),n.Oqu(n.lcZ(2,1,t))}}function ct(o,e){if(1&o){const t=n.EpF();n.TgZ(0,"nz-card",4)(1,"button",5),n.NdJ("click",function(){n.CHM(t);const r=n.oxw();return n.KtG(r.url())}),n._uU(2,"Via Url"),n.qZA(),n.TgZ(3,"input",6),n.NdJ("change",function(r){n.CHM(t);const l=n.oxw();return n.KtG(l.change(r))}),n.qZA(),n.TgZ(4,"ol"),n.YNc(5,at,3,3,"li",7),n.qZA()()}if(2&o){const t=n.oxw();n.xp6(5),n.Q6J("ngForOf",t.list)}}function pt(o,e){if(1&o){const t=n.EpF();n.TgZ(0,"tr")(1,"td")(2,"input",12),n.NdJ("ngModelChange",function(r){const a=n.CHM(t).$implicit;return n.KtG(a.path=r)}),n.qZA()(),n.TgZ(3,"td")(4,"input",12),n.NdJ("ngModelChange",function(r){const a=n.CHM(t).$implicit;return n.KtG(a.url=r)}),n.qZA()()()}if(2&o){const t=e.$implicit,i=e.index;n.xp6(2),n.MGl("name","path",i,""),n.Q6J("ngModel",t.path),n.xp6(2),n.MGl("name","url",i,""),n.Q6J("ngModel",t.url)}}function dt(o,e){if(1&o){const t=n.EpF();n.TgZ(0,"nz-card",8)(1,"button",9),n.NdJ("click",function(){n.CHM(t);const r=n.oxw();return n.KtG(r.data.push({}))}),n._uU(2,"new"),n.qZA(),n.TgZ(3,"button",10),n.NdJ("click",function(){n.CHM(t);const r=n.oxw();return n.KtG(r.download())}),n._uU(4,"download"),n.qZA(),n.TgZ(5,"nz-table",11)(6,"thead")(7,"tr")(8,"th")(9,"span"),n._uU(10,"path"),n.qZA()(),n.TgZ(11,"th")(12,"span"),n._uU(13,"url"),n.qZA()()()(),n.TgZ(14,"tbody"),n.YNc(15,pt,5,4,"tr",7),n.qZA()()()}if(2&o){const t=n.oxw();n.xp6(1),n.Q6J("nzType","primary"),n.xp6(4),n.Q6J("nzData",t.data)("nzFrontPagination",!1)("nzShowPagination",!1),n.xp6(10),n.Q6J("ngForOf",t.data)}}class I{constructor(e,t,i){this.zip=e,this.msg=t,this.cdr=i,this.instance=null,this.data=[{path:"demo.docx",url:"https://ng.yunzainfo.com/assets/demo.docx"},{path:"\u5c0f\u7a0b\u5e8f\u6807\u5fd7.zip",url:"https://wximg.gtimg.com/shake_tv/mina/standard_logo.zip"}]}ngOnInit(){this.zip.create().then(e=>{this.instance=e,this.cdr.detectChanges()})}format(e){const t=e.files;this.list=Object.keys(t).map(i=>({name:i,dir:t[i].dir,date:t[i].date})),this.cdr.detectChanges()}url(){this.zip.read("./assets/tmp/demo.zip").then(e=>this.format(e))}change(e){this.zip.read(e.target.files[0]).then(i=>this.format(i))}download(){const e=[];this.data.forEach(t=>{e.push(this.zip.pushUrl(this.instance,t.path,t.url))}),Promise.all(e).then(()=>{this.zip.save(this.instance).then(()=>{this.msg.success("download success"),this.data=[]})},t=>{console.warn(t),this.msg.error(JSON.stringify(t))})}}I.\u0275fac=function(e){return new(e||I)(n.Y36(ut),n.Y36(rn.dD),n.Y36(n.sBO))},I.\u0275cmp=n.Xpm({type:I,selectors:[["app-zip"]],decls:7,vars:2,consts:[[1,"yunzai-default__content-title"],["href","//ng.yunzainfo.com/components/zip","target","_blank"],["nzTitle","\u89e3\u538b",4,"ngIf"],["nzTitle","\u538b\u7f29",4,"ngIf"],["nzTitle","\u89e3\u538b"],["nz-button","",3,"click"],["type","file","multiple","false",1,"ml-sm",3,"change"],[4,"ngFor","ngForOf"],["nzTitle","\u538b\u7f29"],["nz-button","",3,"nzType","click"],["nz-button","",1,"ml-sm",3,"click"],[1,"mt-sm",3,"nzData","nzFrontPagination","nzShowPagination"],["nz-input","",3,"ngModel","name","ngModelChange"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"h1"),n._uU(2," Read & Write zip file, "),n.TgZ(3,"a",1),n._uU(4,"Document"),n.qZA()()(),n.YNc(5,ct,6,1,"nz-card",2),n.YNc(6,dt,16,5,"nz-card",3)),2&e&&(n.xp6(5),n.Q6J("ngIf",t.instance),n.xp6(1),n.Q6J("ngIf",t.instance))},dependencies:[h.sg,h.O5,p.Fj,p.JJ,p.On,v.ix,T.w,y.dQ,P.N8,P.Uo,P._C,P.Om,P.p0,P.$Z,b.Zp,M.bd,h.Ts],encapsulation:2,changeDetection:0});const mt=[{path:"st",component:G},{path:"util",component:Y},{path:"print",component:O},{path:"acl",component:w},{path:"guard",component:R,children:[{path:"leave",component:k,canDeactivate:[E]},{path:"auth",component:N,canActivate:[on.TV],data:{guard:"user1"}},{path:"admin",component:L,canActivate:[on.TV],data:{guard:"admin"}}]},{path:"cache",component:B},{path:"qr",component:q},{path:"downfile",component:U},{path:"xlsx",component:j},{path:"zip",component:I},{path:"form",component:Q}];class H{}H.\u0275fac=function(e){return new(e||H)},H.\u0275mod=n.oAB({type:H}),H.\u0275inj=n.cJS({imports:[g.Bz.forChild(mt),g.Bz]});class K{}K.\u0275fac=function(e){return new(e||K)},K.\u0275mod=n.oAB({type:K}),K.\u0275inj=n.cJS({providers:[E],imports:[$.m8,H,c,Fn,Dn,vn.B]})},4327:function(cn,ln){var s,V;void 0!==(V="function"==typeof(s=function(){"use strict";function S(c,u,g){var d=new XMLHttpRequest;d.open("GET",c),d.responseType="blob",d.onload=function(){nn(d.response,u,g)},d.onerror=function(){console.error("could not download file")},d.send()}function X(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function Z(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var h="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,W=h.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),nn=h.saveAs||("object"!=typeof window||window!==h?function(){}:"download"in HTMLAnchorElement.prototype&&!W?function(c,u,g){var d=h.URL||h.webkitURL,f=document.createElement("a");f.download=u=u||c.name||"download",f.rel="noopener","string"==typeof c?(f.href=c,f.origin===location.origin?Z(f):X(f.href)?S(c,u,g):Z(f,f.target="_blank")):(f.href=d.createObjectURL(c),setTimeout(function(){d.revokeObjectURL(f.href)},4e4),setTimeout(function(){Z(f)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,g){if(u=u||c.name||"download","string"!=typeof c)navigator.msSaveOrOpenBlob(function n(c,u){return typeof u>"u"?u={autoBom:!1}:"object"!=typeof u&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\ufeff",c],{type:c.type}):c}(c,g),u);else if(X(c))S(c,u,g);else{var d=document.createElement("a");d.href=c,d.target="_blank",setTimeout(function(){Z(d)})}}:function(c,u,g,d){if((d=d||open("","_blank"))&&(d.document.title=d.document.body.innerText="downloading..."),"string"==typeof c)return S(c,u,g);var f="application/octet-stream"===c.type,tn=/constructor/i.test(h.HTMLElement)||h.safari,sn=/CriOS\/[\d]+/.test(navigator.userAgent);if((sn||f&&tn||W)&&typeof FileReader<"u"){var D=new FileReader;D.onloadend=function(){var z=D.result;z=sn?z:z.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=z:location=z,d=null},D.readAsDataURL(c)}else{var en=h.URL||h.webkitURL,J=en.createObjectURL(c);d?d.location=J:location.href=J,d=null,setTimeout(function(){en.revokeObjectURL(J)},4e4)}});h.saveAs=nn.saveAs=nn,cn.exports=nn})?s.apply(ln,[]):s)&&(cn.exports=V)}}]);